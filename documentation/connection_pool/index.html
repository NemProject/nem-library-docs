<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Connection Pool - NEM Library</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Connection Pool";
    var mkdocs_page_input_path = "documentation/connection_pool.md";
    var mkdocs_page_url = "/documentation/connection_pool/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/typescript.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/json.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> NEM Library</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Documentation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../architecture/">Architecture</a>
                </li>
                <li class="">
                    
    <a class="" href="../overview/">Installation</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Connection Pool</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#connection-pool">Connection Pool</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#how-to-use-it">How to use it</a></li>
        
            <li><a class="toctree-l4" href="#how-it-works">How it works</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../account/">Account related requests</a>
                </li>
                <li class="">
                    
    <a class="" href="../transaction/">Initiating transactions requests</a>
                </li>
                <li class="">
                    
    <a class="" href="../namespace/">Namespace related requests</a>
                </li>
                <li class="">
                    
    <a class="" href="../mosaic/">Mosaic related requests</a>
                </li>
                <li class="">
                    
    <a class="" href="../node/">Node related requests</a>
                </li>
                <li class="">
                    
    <a class="" href="../blockchain/">Blockchain related requests</a>
                </li>
                <li class="">
                    
    <a class="" href="../listener/">Listeners</a>
                </li>
                <li class="">
                    
    <a class="" href="../wallet/">Wallets</a>
                </li>
                <li class="">
                    
    <a class="" href="../service/">AccountOwnedMosaicsService</a>
                </li>
                <li class="">
                    
    <a class="" href="../error/">Errors</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../guide/overview/">Working examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/account/">Account</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/transaction/">Transaction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/namespace/">Namespace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/mosaic/">Mosaic</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/node/">Node</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/blockchain/">Blockchain</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/listener/">Listener</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guide/wallet/">Wallet</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../more_software/">More Software</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../support/">Support</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../internal_development_process/">Internal Development Process</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../about/">About</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">NEM Library</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation &raquo;</li>
        
      
    
    <li>Connection Pool</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/aleixmorgadas/nem-library-docs/edit/master/docs/documentation/connection_pool.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="connection-pool">Connection Pool</h1>
<p>NEM Library handles the connections to the NEM Nodes (NIS) automatically.</p>
<h2 id="how-to-use-it">How to use it</h2>
<p>We use <code>AccountHttp</code> for this example, but it works for every <code>*Http</code> class.</p>
<p>All <code>*Http</code> classes already use the Connection Pool by default. If no argument is passed into its constructor, the default NIS nodes will be used.
If you like to use your own NIS nodes, you could specify an array with the domain information.</p>
<p>Furthermore, the Connection Pool allows you to specify the protocol that you like to use in the second constructor argument.</p>
<pre class="highlight"><code class="language-typescript">NEMLibrary.bootstrap(NetworkTypes.TEST_NET);
// Creates an AccountHttp instance with a pool of NIS nodes for TEST_NET
const accountHttpWithDefaultNodes = new AccountHttp();

// Using an AccountHttp with a custom NIS nodes
const accountHttpWithCustomNodes = new AccountHttp([
    {protocol: &quot;http&quot;, domain: &quot;192.3.61.243&quot;, port: 7890},
    {protocol: &quot;http&quot;, domain: &quot;23.228.67.85&quot;, port: 7890}
]);</code></pre>

<p>In case you want to use a specific protocol, for example <code>HTTPS</code>, you can specify your preferred protocol in the <code>AccountHttp</code> constructor.</p>
<pre class="highlight"><code class="language-typescript">NEMLibrary.bootstrap(NetworkTypes.TEST_NET);
const accountHttpWithDefaultNodes = new AccountHttp(undefined, &quot;https&quot;);</code></pre>

<h2 id="how-it-works">How it works</h2>
<p><img alt="Functional" src="../../img/Connection_Pool.png" /></p>
<ol>
<li>The NEM Library starts the request to a NIS node.</li>
<li>If the request is successfull, the result is returned. If not, step 3.</li>
<li>The connection pool handles the connection error and tries the next available server.</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../account/" class="btn btn-neutral float-right" title="Account related requests">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../overview/" class="btn btn-neutral" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/aleixmorgadas/nem-library-docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../overview/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../account/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
